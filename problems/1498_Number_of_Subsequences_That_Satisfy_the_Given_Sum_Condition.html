<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1498_Number_of_Subsequences_That_Satisfy_the_Given_Sum_Condition</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p><strong>1498.  Number of Subsequences That Satisfy the Given Sum Condition</strong></p>
<p>Medium</p>
<p>Given an array of integers  <code>nums</code>  and an integer  <code>target</code>.</p>
<p>Return the number of  <strong>non-empty</strong>  subsequences of  <code>nums</code>  such that the sum of the minimum and maximum element on it is less or equal to <code>target</code>. Since the answer may be too large, return it modulo <code>109 + 7</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [3,5,6,7], target = 9<br>
<strong>Output:</strong> 4<br>
<strong>Explanation:</strong> There are 4 subsequences that satisfy the condition.<br>
[3] -&gt; Min value + max value &lt;= target (3 + 3 &lt;= 9)<br>
[3,5] -&gt; (3 + 5 &lt;= 9)<br>
[3,5,6] -&gt; (3 + 6 &lt;= 9)<br>
[3,6] -&gt; (3 + 6 &lt;= 9)</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [3,3,6,8], target = 10<br>
<strong>Output:</strong> 6<br>
<strong>Explanation:</strong> There are 6 subsequences that satisfy the condition. (nums can have repeated numbers).<br>
[3] , [3] , [3,3], [3,6] , [3,6] , [3,3,6]</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> nums = [2,3,3,4,6,7], target = 12<br>
<strong>Output:</strong> 61<br>
<strong>Explanation:</strong> There are 63 non-empty subsequences, two of them don’t satisfy the condition ([6,7], [7]).<br>
Number of valid subsequences (63 - 2 = 61).</p>
<p><strong>Example 4:</strong></p>
<p><strong>Input:</strong> nums = [5,2,4,1,7,6,8], target = 16<br>
<strong>Output:</strong> 127<br>
<strong>Explanation:</strong> All non-empty subset satisfy the condition (2^7 - 1) = 127</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 106</code></li>
<li><code>1 &lt;= target &lt;= 106</code></li>
</ul>
<p><strong>[Solution]</strong></p>
<pre class=" language-java"><code class="prism  language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">numSubseq</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token operator">==</span> null <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> power <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        power<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            power<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>power<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> j<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> j<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            cnt <span class="token operator">=</span> <span class="token punctuation">(</span>cnt <span class="token operator">+</span> power<span class="token punctuation">[</span>j<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
</div>
</body>

</html>
