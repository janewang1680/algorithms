<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>920_Number_of_Music_Playlists</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p><strong>920.  Number of Music Playlists</strong></p>
<p>Hard</p>
<p>Your music player contains  <code>N</code> different songs and she wants to listen to  <code>L</code>  (not necessarily different) songs during your trip. You create a playlist so that:</p>
<ul>
<li>Every song is played at least once</li>
<li>A song can only be played again only if <code>K</code> other songs have been played</li>
</ul>
<p>Return the number of possible playlists. <strong>As the answer can be very large, return it modulo  <code>10^9 + 7</code></strong>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> N = 3, L = 3, K = 1<br>
<strong>Output:</strong> 6<br>
<strong>Explanation</strong>: There are 6 possible playlists. [1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1].</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> N = 2, L = 3, K = 0<br>
<strong>Output:</strong> 6 <strong>Explanation</strong>: There are 6 possible playlists. [1, 1, 2], [1, 2, 1], [2, 1, 1], [2, 2, 1], [2, 1, 2], [1, 2, 2]</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> N = 2, L = 3, K = 1<br>
<strong>Output:</strong> 2<br>
<strong>Explanation</strong>: There are 2 possible playlists. [1, 2, 1], [2, 1, 2]</p>
<p><strong>Note:</strong></p>
<ol>
<li><code>0 &lt;= K &lt; N &lt;= L &lt;= 100</code></li>
</ol>
<p><strong>[Solution]</strong></p>
<pre class=" language-javaclass"><code class="prism  language-javaclass">    public int numMusicPlaylists(int N, int L, int K) {
        int MOD = (int) Math.pow(10, 9) + 7;
        long[][] dp = new long[L+1][N+1];
        dp[0][0] = 1;
        
        for (int i = 1; i &lt;=L ;i++) {
            for (int j = 1; j &lt;= N; j++) {
                dp[i][j] += dp[i-1][j-1] * (N-j+1); // if we play a new song
                dp[i][j] += dp[i-1][j] * Math.max(j-K, 0); // if play a repeated song
                dp[i][j] %= MOD;
            }
        }
        
        return (int) dp[L][N];
    }
}
</code></pre>
</div>
</body>

</html>
